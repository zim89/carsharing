import{p as R,u as A,a as B,R as M,B as L,b as G,r as i,j as s,c as S}from"./index-d0dd22ca.js";import{u as $,S as P,a as w,m as U,p as V,N,A as F,f as q}from"./filterData-0ac7d0ba.js";import{G as z,F as Q}from"./Flex-ecc7e7b9.js";import{T as j,S as _,B as C}from"./Title-c9ba0a34.js";import{C as H}from"./Image-aff53021.js";var J={root:"m-4451eb3a"};const O=J;var K=Object.defineProperty,m=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,D=(t,a,e)=>a in t?K(t,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[a]=e,I=(t,a)=>{for(var e in a||(a={}))T.call(a,e)&&D(t,e,a[e]);if(m)for(var e of m(a))k.call(a,e)&&D(t,e,a[e]);return t},W=(t,a)=>{var e={};for(var r in t)T.call(t,r)&&a.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&m)for(var r of m(t))a.indexOf(r)<0&&k.call(t,r)&&(e[r]=t[r]);return e};const X={},y=R((t,a)=>{const e=A("Center",X,t),r=e,{classNames:c,className:p,style:d,styles:f,unstyled:h,vars:u,inline:g}=r,o=W(r,["classNames","className","style","styles","unstyled","vars","inline"]),x=B({name:"Center",props:e,classes:O,className:p,style:d,classNames:c,styles:f,unstyled:h,vars:u});return M.createElement(L,I(I({ref:a,mod:{inline:g}},x("root")),o))});y.classes=O;y.displayName="@mantine/core/Center";const Y=(t=1,a=12)=>{const e={page:String(t),limit:String(a)};return new URLSearchParams(e).toString()},Z=G.create({baseURL:"https://6541fa31f0b8287df1ff3949.mockapi.io"}),ee=async t=>{try{const{data:a}=await Z.get(`/adverts?${t}`);return a}catch(a){console.log(a.message)}},te="_section_1520h_1",ae="_input_1520h_5",se="_inputFrom_1520h_13",re="_inputTo_1520h_20",le="_label_1520h_26",n={section:te,input:ae,inputFrom:se,inputTo:re,label:le},ne=({options:t,search:a})=>{const e=t.filter(r=>r.label.toLowerCase().trim().includes(a.toLowerCase().trim()));return e.sort((r,c)=>r.label.localeCompare(c.label)),e},oe=()=>{const[t,a]=i.useState(1),[e]=i.useState(12),[r,c]=i.useState([]),[p,d]=i.useState([]),[f,h]=i.useState(!0),[u,g]=i.useState(!1);i.useLayoutEffect(()=>{(async()=>{const l=await ee(Y(t,e))??[];c(b=>[...b,...l])})()},[e,t]);const o=$({initialValues:{make:"",rentalPrice:"",mileageFrom:"",mileageTo:""}}),x=()=>{const l={...o.values};for(const v in l)l[v]||delete l[v];const b=q(l,r);g(!0),d([...b]),h(!1)},E=()=>{r.length>0&&r.length%e!==0||a(l=>l+1)};return s.jsxs(s.Fragment,{children:[s.jsx("form",{children:s.jsxs(z,{justify:"center",align:"flex-end",mb:50,children:[s.jsxs(P,{align:"flex-start",gap:4,w:150,children:[s.jsx(j,{className:n.label,children:"Car brand"}),s.jsx(w,{...o.getInputProps("make"),variant:"filled",radius:"md",placeholder:"Enter brand...",data:U,searchable:!0,nothingFoundMessage:"Nothing found...",checkIconPosition:"right",filter:ne,clearable:!0,allowDeselect:!0,classNames:{input:n.input}})]}),s.jsxs(P,{align:"flex-start",gap:4,w:90,children:[s.jsx(j,{className:n.label,children:"Price / 1 hour"}),s.jsx(w,{radius:"md",...o.getInputProps("rentalPrice"),variant:"filled",placeholder:"To $",data:V,checkIconPosition:"right",clearable:!0,allowDeselect:!0,classNames:{input:n.input}})]}),s.jsxs(Q,{justify:"flex-start",align:"flex-start",direction:"column",gap:4,w:160,children:[s.jsx(j,{className:n.label,children:"Ð¡ar mileage / km"}),s.jsxs(_,{cols:2,spacing:0,children:[s.jsx(N,{...o.getInputProps("mileageFrom"),radius:0,variant:"filled",placeholder:"From",allowNegative:!1,allowDecimal:!1,thousandSeparator:",",hideControls:!0,classNames:{label:n.label,input:S(n.input,n.inputFrom)}}),s.jsx(N,{...o.getInputProps("mileageTo"),variant:"filled",radius:0,placeholder:"To",allowNegative:!1,allowDecimal:!1,thousandSeparator:",",hideControls:!0,classNames:{label:n.label,input:S(n.input,n.inputTo)}})]})]}),s.jsx(C,{variant:"filled",radius:"md",onClick:x,children:"Search"})]})}),s.jsxs(L,{pb:100,children:[!u&&s.jsx(_,{cols:4,mb:100,children:r.map(l=>s.jsx(F,{advert:l},l.id))}),u&&s.jsx(_,{cols:4,mb:100,children:p.map(l=>s.jsx(F,{advert:l},l.id))}),f&&s.jsx(y,{children:s.jsx(C,{variant:"transparent",size:"md",onClick:E,children:"Load more"})})]})]})},de=()=>s.jsx(H,{pt:100,children:s.jsx(oe,{})});export{de as default};
